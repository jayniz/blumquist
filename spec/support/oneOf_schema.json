{
  "$schema": "http://json-schema.org/draft-04/schema#",

  "definitions": {
    "old_fields": {
      "type": "object",
      "properties": {
        "middle_name": { "type": "string" },
        "last_name": { "type": "string" }
      },
      "required": ["middle_name"]
    },
    "with_extra_fields": {
      "type": "object",
      "properties": {
        "maid_name": { "type": "string" },
        "last_name": { "type": "string" }
      },
      "required": ["maiden_name"]
    }
  },

  "type": "object",

  "properties": {
    "name": {
      "oneOf": [
        { "type": "null" },
        {"$ref": "#/definitions/with_extra_fields" },
        {
          "type": "object",
          "properties": {
            "first_name": { "type" : "string" },
            "last_name": { "type" : "string" }
          },
          "required": ["first_name"]
        },
        {"$ref": "#/definitions/old_fields" }
      ]
    } 
  }
}
